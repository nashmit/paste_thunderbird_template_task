#!/usr/bin/env bash

TEMPLATE="${HOME}/.config/templates/copyq/template_thunderbird_task.rtf.in.rtf"

# Sanity checks
if ! command -v copyq >/dev/null 2>&1; then
  echo "Error: copyq is not installed or not in PATH." >&2
  exit 1
fi
if [[ ! -r "$TEMPLATE" ]]; then
  echo "Error: template not found or not readable: $TEMPLATE" >&2
  exit 1
fi

copyq copy \
  text/html  "$(pandoc -f rtf -t html --wrap=none "$TEMPLATE")" \
  text/plain "$(pandoc -f rtf -t plain "$TEMPLATE")"

copyq paste
